import{a as u,r as e,b as x,P as C,f as j,j as s,B as h}from"./index-CIK51xq2.js";import{p as E,s as r,C as P,a as F,b}from"./index.module-Bu1NcC7O.js";import{g as y,E as B}from"./error-CPVJRII0.js";const v=()=>{const{campers:a,isLoading:c,error:t}=u(y),[l,o]=e.useState([]),n=x(),{currentPage:d,increasePage:p}=e.useContext(C),i=e.useRef();e.useEffect(()=>{a.length===0&&n(j())},[n,a]),e.useEffect(()=>{Array.isArray(a)&&o(a)},[a]);const{cards:f,isBtnVisible:m}=E(d,l),g=()=>{p(),b(i)};return t?s.jsx(B,{error:t}):s.jsx(s.Fragment,{children:!c&&!t&&s.jsxs("div",{className:r.pageContainer,children:[s.jsxs("div",{className:r.contentWrapper,children:[s.jsx(P,{cards:a,setFilteredCards:o}),s.jsx(F,{data:f,listRef:i})]}),m&&s.jsx(h,{className:r.loadMore,text:"Load more",onClick:g})]})})};export{v as default};
